<div class="container">

  <div class="login-card card">

    <!-- Header -->
    <div class="login-header">
      <button class="login-lang-toggle" (click)="toggleLang()">
        {{ isAr ? 'EN' : 'عربي' }}
      </button>
      <div class="login-logo">
        <svg viewBox="0 0 88 88" fill="none" xmlns="http://www.w3.org/2000/svg">
          <!-- Outer ring -->
          <circle cx="44" cy="44" r="42" stroke="rgba(255,255,255,0.25)" stroke-width="1.5"/>
          <!-- Car body -->
          <path d="M14 54 L18 44 L28 38 L52 38 L62 44 L72 46 L74 54 L14 54Z"
                fill="rgba(255,255,255,0.12)" stroke="white" stroke-width="1.8" stroke-linejoin="round"/>
          <!-- Car windows -->
          <path d="M21 44 L28 38.5 L40 38.5 L40 44Z" fill="rgba(255,255,255,0.1)" stroke="rgba(255,255,255,0.4)" stroke-width="1"/>
          <path d="M42 44 L42 38.5 L52 38.5 L58 44Z" fill="rgba(255,255,255,0.1)" stroke="rgba(255,255,255,0.4)" stroke-width="1"/>
          <!-- Wheels -->
          <circle cx="26" cy="54" r="5.5" fill="rgba(255,255,255,0.15)" stroke="white" stroke-width="1.8"/>
          <circle cx="26" cy="54" r="2" fill="rgba(255,255,255,0.3)"/>
          <circle cx="62" cy="54" r="5.5" fill="rgba(255,255,255,0.15)" stroke="white" stroke-width="1.8"/>
          <circle cx="62" cy="54" r="2" fill="rgba(255,255,255,0.3)"/>
          <!-- Magnifying glass -->
          <circle cx="58" cy="24" r="11" fill="rgba(255,255,255,0.08)" stroke="white" stroke-width="2.2"/>
          <line x1="66" y1="32" x2="73" y2="39" stroke="white" stroke-width="2.8" stroke-linecap="round"/>
          <!-- Checkmark inside magnifier -->
          <polyline points="52,24 56,28.5 64,19" fill="none" stroke="white" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
      <h4 class="login-title">{{ 'MENU.GARAGE' | translate }}</h4>
      <p class="login-subtitle">Vehicle Inspection System</p>
    </div>

    <!-- Body -->
    <div class="login-body">

      <!-- Error -->
      @if (errorMsg) {
      <div class="alert alert-danger d-flex align-items-center gap-2 mb-3">
        <i class="bi bi-exclamation-circle-fill"></i>
        <span>{{ errorMsg }}</span>
      </div>
      }

      <!-- Username -->
      <div class="mb-3">
        <label class="form-label">{{ 'LOGIN.USERNAME' | translate }}</label>
        <div class="input-group">
          <span class="input-group-text"><i class="bi bi-person-fill"></i></span>
          <input class="form-control" type="text" [(ngModel)]="username" [disabled]="loading"
            [placeholder]="'LOGIN.USERNAME' | translate" (keyup.enter)="submit()" />
        </div>
      </div>

      <!-- Password -->
      <div class="mb-4">
        <label class="form-label">{{ 'LOGIN.PASSWORD' | translate }}</label>
        <div class="input-group">
          <span class="input-group-text"><i class="bi bi-lock-fill"></i></span>
          <input class="form-control" [type]="showPassword ? 'text' : 'password'" [(ngModel)]="password"
            [disabled]="loading" [placeholder]="'LOGIN.PASSWORD' | translate" (keyup.enter)="submit()" />
          <button class="btn btn-toggle-pass" type="button" (click)="togglePassword()" [disabled]="loading">
            <i class="bi" [class.bi-eye-fill]="!showPassword" [class.bi-eye-slash-fill]="showPassword"></i>
          </button>
        </div>
      </div>

      <!-- Submit -->
      <button class="btn btn-login btn-primary w-100 text-white" (click)="submit()" [disabled]="loading">
        @if (loading) {
        <span class="spinner-border spinner-border-sm" role="status"></span>
        } @else {
        <i class="bi bi-box-arrow-in-right"></i>
        }
        {{ 'LOGIN.SUBMIT' | translate }}
      </button>

    </div>

    <!-- Footer -->
    <div class="login-footer">
      &copy; {{ currentYear }} Garage System
    </div>

  </div>
</div>
