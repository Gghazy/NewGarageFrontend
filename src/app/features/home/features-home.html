<ng-container *ngIf="!showWelcome">
  <app-dashboard-filter
    [branches]="branches"
    [isAr]="isAr"
    (filterChange)="onFilterChange($event)"
    class="d-block mb-4">
  </app-dashboard-filter>

  <div *ngIf="loading" class="text-center py-5">
    <div class="spinner-border text-primary"></div>
  </div>

  <div *ngIf="!loading">
    <app-exam-stats *ngIf="canSeeExams" class="d-block mb-4"
      [pending]="examsPending"
      [inProgress]="examsInProgress"
      [completed]="examsCompleted">
    </app-exam-stats>

    <app-revenue-stats *ngIf="canSeeRevenue" class="d-block mb-4"
      [netRevenue]="netRevenue"
      [totalDiscounts]="totalDiscounts"
      [refundCount]="refundCount"
      [refundAmount]="refundAmount">
    </app-revenue-stats>

    <app-service-usage-chart *ngIf="canSeeExams"
      [chartData]="barChartData"
      [chartOptions]="barChartOptions">
    </app-service-usage-chart>
  </div>
</ng-container>

<div *ngIf="showWelcome" class="welcome-card text-center py-5">
  <i class="bi bi-house-heart" style="font-size: 3rem; color: #1e3a5f;"></i>
  <h4 class="mt-3">{{ 'DASHBOARD.WELCOME_TITLE' | translate }}</h4>
  <p class="text-muted">{{ 'DASHBOARD.WELCOME_MESSAGE' | translate }}</p>
</div>
