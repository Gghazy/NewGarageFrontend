<div class="modal-header">
  <h5 class="modal-title">{{ title }}</h5>
  <button type="button" class="btn-close" (click)="activeModal.dismiss()"></button>
</div>

<div class="modal-body">

  <!-- Type Switch -->
  <div class="mb-3">
    <ul class="nav nav-pills">
      <li class="nav-item">
        <button type="button" class="nav-link" [class.active]="clientType === 'individual'"
          (click)="onTypeChange('individual')">
          <i class="bi bi-person me-1"></i>
          {{ 'CLIENTS.INDIVIDUAL' | translate }}
        </button>
      </li>
      <li class="nav-item">
        <button type="button" class="nav-link" [class.active]="clientType === 'company'"
          (click)="onTypeChange('company')">
          <i class="bi bi-building me-1"></i>
          {{ 'CLIENTS.COMPANY' | translate }}
        </button>
      </li>
    </ul>
  </div>


  <!-- Individual Form -->
  <div *ngIf="clientType === 'individual'">
    <app-client-individual-form [initialData]="client"></app-client-individual-form>
  </div>

  <!-- Company Form -->
  <div *ngIf="clientType === 'company'">
    <app-client-company-form [initialData]="client"></app-client-company-form>
  </div>

  <div *ngIf="loading" class="text-center mt-3">
    <div class="spinner-border spinner-border-sm" role="status"></div>
  </div>

</div>

<div class="modal-footer">
  <button class="btn btn-light" [disabled]="loading" (click)="activeModal.dismiss()">
    {{ 'COMMON.CANCEL' | translate }}
  </button>
  <button class="btn btn-primary" [disabled]="loading" (click)="submit()">
    <span *ngIf="loading" class="spinner-border spinner-border-sm me-2"></span>
    {{ 'COMMON.SAVE' | translate }}
  </button>
</div>
